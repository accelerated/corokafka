{
  "quantum": {
    "numCoroutineThreads":5,
    "numIoThreads":5,
    "pinToCores":false,
    "loadBalanceSharedIoQueues":false,
    "loadBalancePollIntervalMs":100,
    "loadBalancePollIntervalBackoffPolicy":"exponential",
    "loadBalancePollIntervalNumBackoffs":5
  },
  "kafka": {
    "connector":{
      "pollIntervalMs":100,
      "maxMessagePayloadOutputLength":100
    },
    "topics": [
      {
        "name":"kf-oss-test",
        "type":"producer",
        "config":{
          "metadata.broker.list":"kf-oss-test.kafka.dev.query.bms.bloomberg.com:9092",
          "api.version.request":true,
          "queue.buffering.max.messages":100000,
          "queue.buffering.max.ms":100,
          "batch.num.messages":1000,
          "internal.producer.timeout.ms":100,
          "internal.producer.retries":5,
          "internal.producer.preserve.message.order":false,
          "internal.producer.payload.policy":"copy",
          "internal.producer.wait.for.acks.timeout.ms":50,
          "internal.producer.auto.throttle":true
        },
        "topicConfig":{
          "produce.offset.report":true,
          "request.required.acks":-1,
          "queuing.strategy":"fifo"
        }
      }
    ]
  },
  "nano": {
    "cacheManager": {
      "cassSessionConfigs": [
        {
          "name": "CassSessionConfig",
          "user":"oss_test",
          "pwd":"oss123",
          "env":"dev",
          "clusterOptions":{
            "threadCount": 5,
            "queueSize": 10000,
            "retryPolicy":"fallThrough",
            "logRetryPolicy":false,
            "consistency":"quorum",
            "readConsistencyOverride":"localQuorum",
            "writeConsistencyOverride":"three",
            "connectTimeoutMs":5000,
            "requestTimeoutMs":10000,
            "coreConnectionsPerHost":1,
            "loadBalanceRoundRobin":false,
            "tokenAwareRouting":true,
            "latencyAwareRouting": {
              "exclusionThreshold": 2.0,
              "scaleMs": 100,
              "retryPeriodMs": 10000,
              "updateRateMs": 100,
              "minMeasured": 50
            }
          },
          "reconnectSettings": {
                "connectionReattempts": 5,
                "waitTimeMs": 1000,
                "maxWaitTimeMs": 30000,
                "backoffStrategy": "linear",
                "downgradedReadConsistency": "three",
                "downgradedWriteConsistency": "two"
          }
        }
      ],
      "inProcCacheConfigs": [
        {
          "name": "SimpleTypesConfig",
          "growthLimit": "byMaxElements",
          "limitFactor":10000,
          "timeToLiveSec":10000,
          "errorOnReadFailure":true,
          "errorOnWriteFailure":true
        }
      ],
      "redisCacheConfigs": [
        {
          "name": "SimpleTypes2Config",
          "type": "clustered",
          "cacheName": "oss_cache",
          "env": "dev",
          "settings": {
            "timeToLiveSec" : 3600 //1hr
          },
          "clusteredSettings": {
              "address": "127.0.0.1",
              "port": 28588,
              "commandTimeoutMs": 2000,
              "initialConnectionPoolSize": 3,
              "maxConnectionPoolSize": 10,
              "enableConnectionPool": true
          },
          "reconnectSettings": {
                "connectionReattempts" : 5,
                "commandReattempts" : 5,
                "waitTimeMs" : 1000,
                "maxWaitTimeMs" : 30000,
                "backoffStrategy" : "exponential",
                "indefinitelyReattemptCommands" : false,
                "indefinitelyReattemptConnections" : false
          },
          "errorOnReadFailure": false,
          "errorOnWriteFailure": true,
          "numFlushRetriesOnWriteFailure": -1,
          "flushRetryPeriodMs": 10000
        }
      ]
    },
    "caches": [
      {
        "name": "simpleTypeCache",
        "cacheConfig": "SimpleTypesConfig",
        "cassConfig": "CassSessionConfig",
        "table": {
          "keySpace": "osstest",
          "name": "SimpleTypes",
          "usePreparedStatements": true,
          "columns": [
            {
              "position":0,
              "name":"id",
              "value":"uuid",
              "type":"primary"
            },
            {
              "position":1,
              "name":"intType",
              "value":"int"
            },
            {
              "position":2,
              "name":"doubleType",
              "value":"double"
            },
            {
              "position":3,
              "name":"stringType",
              "value":"text"
            },
            {
              "position":4,
              "name":"dateType",
              "value":"date"
            },
            {
              "position":5,
              "name":"dateTimeType",
              "value":"timestamp"
            },
            {
              "position":6,
              "name":"byteType",
              "value":"tinyint"
            },
            {
              "position":7,
              "name":"object",
              "value":"blob"
            },
          ],
          "defaultEncoder": "ber",
          "timeToLiveSec": 20000
        }
      },
      {
        "name": "simpleType2Cache",
        "cacheConfig": "SimpleTypes2Config",
        "cassConfig": "CassSessionConfig",
        "table": {
          "keySpace": "osstest",
          "name": "SimpleTypes2",
          "usePreparedStatements": true,
          "columns": [
            {
              "position":0,
              "name":"id",
              "value":"int",
              "type":"primary"
            },
            {
              "position":1,
              "name":"userId",
              "value":"text",
              "type":"primary"
            },
            {
              "position":2,
              "name":"object",
              "value":"text"
            }
          ],
          "defaultEncoder": "json",
          "timeToLiveSec": 20000
        }
      }
    ]
  }
}
